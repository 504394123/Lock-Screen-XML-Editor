# XML代码编辑器

这是一个为Windows 11设计的XML代码编辑器，具有强大的结构树视图、属性编辑和代码高亮功能。

## 功能特点

1. **三区域布局**:
   - 左侧：XML结构树视图
   - 中间：元素属性编辑视图
   - 右侧：原始XML代码视图

2. **结构树视图**:
   - 显示XML的层级结构
   - 支持剪切、复制、粘贴等基本操作
   - 支持多选操作
   - 右键菜单包含跳转到代码功能
   - 功能注释和作用注释两列

3. **拖放功能**:
   - 支持元素拖放重排序
   - 拖放到元素上时自动创建Group组
   - 组与组之间拖动合并功能

4. **属性编辑**:
   - 显示所选元素的所有属性
   - 支持属性的添加、编辑和删除
   - 支持属性注释功能

5. **代码视图**:
   - 语法高亮显示
   - 与结构树视图联动
   - 选中元素时自动定位和高亮显示对应代码

## 安装步骤

1. 确保你的系统已安装Python 3.6+
2. 安装所需依赖:

```bash
pip install -r requirements.txt
```

## 运行方法

```bash
python xml_editor.py
```

## 使用说明

### 基本操作

1. **打开文件**: 通过菜单栏或工具栏的"打开"按钮加载XML文件
2. **保存文件**: 通过菜单栏或工具栏的"保存"按钮保存当前编辑的XML文件

### 结构树操作

1. **查看结构**: 左侧树形视图显示XML的层级结构
2. **选择元素**: 点击任意元素在中间面板查看其属性
3. **右键菜单**:
   - 剪切、复制、粘贴、删除元素
   - 跳转到代码视图定位元素
   - 添加功能注释或作用注释（两个注释区别于xml文件，不会写入xml代码中）
4. **列自定义显示**:
   - 支持自定义列显示属性，例如：在工具中设置name属性列，则该列会显示出name属性值
5. **图片与结构树**:
   - 会在当前拖放位置新建Image元素
   - 在新建Image元素自动添加src图片路径值
   - 在Image元素显示缩略图

### 拖放操作

1. **重排序**: 拖放元素可以改变其在xml结构中的位置
2. **创建组**: 将元素拖放到另一个元素上会自动创建一个Group组
3. **合并组**: 组与组之间拖放会将拖放的组成为选中组的子元素

### 属性编辑

1. **编辑属性**: 在中间结构树面板直接编辑属性名和值
2. **添加属性**: 点击最后一行或使用右键菜单添加新属性
3. **删除属性**: 点击属性行右侧的"X"按钮删除属性

### 注释功能

1. **功能注释**: 跟随元素类型的全局注释
2. **作用注释**: 跟随特定XML文件的元素注释
3. **属性注释**: 为属性添加说明注释

## 注意事项

- 编辑器会自动保存注释到对应文件
- 功能注释在所有打开的XML文件中共享
- 代码视图支持直接编辑，可以通过"应用代码更改"按钮应用修改

## 开发者信息

本编辑器基于Python和PyQt5开发，使用lxml库解析XML。 